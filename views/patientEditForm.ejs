<%- include('header') %>
<section>
    <h2>Modifier les informations du patient</h2>
    <div style="display: flex; margin-left: 100px; gap: 100px;">
        <!-- Formulaire d'édition pour un patient spécifique -->
        <form action="/patients/<%= patient.id %>/edit/add" method="post" style="display: flex; flex-direction: column; width: 500px;">
            <h3>Informations du patient</h3>

            <label for="name">Nom</label>
            <input type="text" name="name" id="name" value="<%= patient.name %>" required>

            <label for="birthday">Date de naissance</label>
            <input type="date" name="birthday" id="birthday" value="<%= patient.birthday %>">

            <label for="sex">Sexe</label>
            <select name="sexId" id="sex">
                <% sexes.forEach(sex => { %>
                    <option value="<%= sex.id %>" <%= patient.sexId === sex.id ? 'selected' : '' %>><%= sex.name %></option>
                <% }) %>
            </select>

            <label for="animalType">Type d'animal</label>
            <select name="animalTypeId" id="animalType" onchange="toggleCustomAnimalType()">
                <option value="">Sélectionnez un type d'animal</option>
                <% animalTypes.forEach(animalType => { %>
                    <option value="<%= animalType.id %>" data-races='<%= JSON.stringify(animalType.races) %>' <%= patient.animalTypeId === animalType.id ? 'selected' : '' %>><%= animalType.name %></option>
                <% }) %>
                <option value="other">Autre</option>
            </select>

 

            <input type="submit" value="Enregistrer">
        </form>
    </div>
</section>
<%- include('footer') %>